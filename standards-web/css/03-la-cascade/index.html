<!doctype html><html lang="fr"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="Eleventy v1.0.2" name="generator"><title>La cascade - Shinze</title><meta content="Un site qui parle essentiellement de standards web et plus particulièrement des langages HTML et CSS." name="description"><link href="/styles.css" rel="stylesheet"><style>:root{--post-color:#FFF3DA;--post-rotation1:0deg;--post-rotation2:0deg}</style><script src="/js/hsluv.js"></script></head><body><svg class="blob" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><path class="blob-1" d="M 129.256 45.475 C 134.456 65.575 113.556 89.875 89.656 106.375 C 65.756 122.775 38.856 131.375 23.156 120.875 C 7.556 110.375 3.056 80.775 11.356 56.375 C 19.556 31.975 40.656 12.775 66.756 11.175 C 92.856 9.475 124.156 25.375 129.256 45.475 Z" fill="currentColor"/><path class="blob-2" d="M 178.029 80.881 C 183.229 100.981 173.479 141.292 149.579 157.792 C 125.679 174.192 87.629 166.781 71.929 156.281 C 56.329 145.781 51.829 116.181 60.129 91.781 C 68.329 67.381 89.429 48.181 115.529 46.581 C 141.629 44.881 172.929 60.781 178.029 80.881 Z" fill="currentColor"/></svg><header class="header"><nav class="header-nav"><ol aria-label="fil d’arianne" class="breadcrumbs"><li><a href="/" class="crumb breadcrumbs-home">Accueil</a></li><li><span class="breadcrumbs-separator">/</span> <a href="/standards-web/" class="crumb">Les standards web</a></li><li><span class="breadcrumbs-separator">/</span> <a href="/standards-web/css/" class="crumb">CSS</a></li><li><span class="breadcrumbs-separator">/</span> <strong>La cascade</strong></li></ol></nav><nav class="navigation" aria-label="Navigation principale"><details class="navigation-accordion"><summary class="navigation-btn"><div class="navigation-btn-open">Menu</div><div class="navigation-btn-close">Fermer</div></summary><ul role="list" class="navigation-list"><li><a href="/">Accueil</a></li><ul role="list"><li><a href="/standards-web/">Les standards web</a></li><ul role="list"><li><a href="/standards-web/html/">HTML</a></li><ul role="list"><li><a href="/standards-web/html/les-balises/">Les balises</a></li><li><a href="/standards-web/html/les-attributs/">Les attributs</a></li><li><a href="/standards-web/html/les–images/">Les images</a></li></ul><li><a href="/standards-web/css/">CSS</a></li><ul role="list"><li><a href="/standards-web/css/01-des-boites/">Le modèle de boîtes</a></li><li><a href="/standards-web/css/02-les-selecteurs/">Les sélecteurs</a></li><li aria-current="page">La cascade</li><li><a href="/standards-web/css/04-les-couleurs/">Les couleurs</a></li><li><a href="/standards-web/css/05-les-unites-de-dimension/">Les unités de dimension</a></li><li><a href="/standards-web/css/06-mise-en-page/">La mise en page (en cours)</a></li></ul><li><a href="/standards-web/svg/">SVG</a></li><li><a href="/standards-web/javascript/">Javascript</a></li></ul><li><a href="/pratiques/">Pratiques de développement</a></li><ul role="list"><li><a href="/pratiques/nouveau-projet/">Initialiser un projet avec VS Code</a></li><li><a href="/pratiques/conseils/">Quelques conseils pour vous simplifier la vie</a></li></ul><li><a href="/a-propos/styleguide/">Guide de styles</a></li><li><a href="/a-propos/">À propos de ce site</a></li></ul></ul></details></nav></header><main class="main"><div class="post"><div class="post-header"><h1 class="post-title">La cascade</h1></div><details class="toc-toc"><summary class="toc-toc-summary">Dans cette page</summary><nav class="toc"><ol><li><a href="#l%E2%80%99h%C3%A9ritage">L’héritage</a><ol><li><a href="#les-propri%C3%A9t%C3%A9s-h%C3%A9rit%C3%A9es">Les propriétés héritées</a></li><li><a href="#des-%C3%A9l%C3%A9ments-qui-n%E2%80%99h%C3%A9ritent-pas">Des éléments qui n’héritent pas</a><ol><li><a href="#forcer-l%E2%80%99h%C3%A9ritage">Forcer l’héritage</a></li></ol></li></ol></li><li><a href="#la-sp%C3%A9cificit%C3%A9">La spécificité</a><ol><li><a href="#de-quelle-couleur-est-le-paragraphe-%3F">De quelle couleur est le paragraphe ?</a></li><li><a href="#corsons-un-peu-les-choses">Corsons un peu les choses</a></li><li><a href="#encore-un-peu-plus-difficile-%3F">Encore un peu plus difficile ?</a></li><li><a href="#un-dernier-pour-la-route">Un dernier pour la route</a></li></ol></li><li><a href="#une-pratique-du-monde-r%C3%A9el">Une pratique du monde réel</a></li><li><a href="#!important">!important</a></li><li><a href="#%C3%A9viter-les-crampes-aux-doigts-et-les-mots-de-t%C3%AAte-%3F">Éviter les crampes aux doigts et les mots de tête ?</a></li><li><a href="#r%C3%A9f%C3%A9rences">Références</a></li></ol></nav></details><p>La cascade est le mécanisme par lequel le navigateur va déterminer l’apparence d’un élément en agglomérant les <em>propriétés</em> CSS et les <em>valeurs</em> issues de plusieurs sélecteurs et de l’héritage de l’élément.</p><h2 id="l%E2%80%99h%C3%A9ritage" tabindex="-1">L’héritage</h2><h3 id="les-propri%C3%A9t%C3%A9s-h%C3%A9rit%C3%A9es" tabindex="-1">Les propriétés <em>héritées</em></h3><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Iggy Pop, ami de <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>David Bowie<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">></span></span>est un artiste américain du vingtième siècle.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span><br>  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Dans l’exemple ci-dessus, l’ensemble des éléments HTML sont bleus car la propriété <code>color</code> est <em>héritable</em>, cela signifie que la couleur est ici définie par la couleur appliquée à l’élément parent (<code>body</code>).</p><p>Cependant certaines propriétés ne sont pas héritées, c’est ce que l’on peut constater dans l’exemple ci-dessus, les éléments appartenant au <code>body</code> n’ont pas de bordure bleue.</p><p>Une liste <a href="https://gist.github.com/dcneiner/1137601">des propriétés <em>héritées</em></a>.</p><h3 id="des-%C3%A9l%C3%A9ments-qui-n%E2%80%99h%C3%A9ritent-pas" tabindex="-1">Des éléments qui n’héritent pas</h3><p>En CSS certains éléments ne vont pas hériter de propriétés par d’autres éléments, les liens (<code>a</code>) et les <a href="https://developer.mozilla.org/fr/docs/Learn/Forms/Your_first_form">éléments de formulaire</a> n’héritent pas de toutes les propriétés.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><br>  Lust for life<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iggy.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Découvrir l’artiste<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Iggy Pop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Voir la description<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token punctuation">}</span></code></pre><p>Ici le texte sera bien rouge à l’exception des liens et du bouton qui garderont leur couleur par défaut.</p><h4 id="forcer-l%E2%80%99h%C3%A9ritage" tabindex="-1"><em>Forcer</em> l’héritage</h4><pre class="language-css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token punctuation">}</span><br><span class="token selector">a, button</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> inherit <span class="token punctuation">}</span></code></pre><p>Appliqué au code HTML précédent, ce code CSS va permettre aux liens et aux boutons d’être en rouge comme tous les autres éléments.</p><div class="callout"><h3 id="une-pratique-du-monde-r%C3%A9el" tabindex="-1">Une pratique du monde réel</h3><p><a href="https://necolas.github.io/normalize.css/">Une autre pratique</a> consiste à rendre l’héritage de certaines propriétés comme étant <em>autorisé</em> sur tous les éléments de la manière suivante :</p><pre class="language-css"><code class="language-css"><span class="token selector">*</span> <span class="token punctuation">{</span> <span class="token property">font-family</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span> <span class="token punctuation">}</span><br><span class="token selector">body</span> <span class="token punctuation">{</span> <span class="token property">font-family</span><span class="token punctuation">:</span> monospace<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p>Dans cet exemple tous les éléments faisant partie du document utiliseront une police à espacement fixe (<code>monospace</code>).</p></div><h2 id="la-sp%C3%A9cificit%C3%A9" tabindex="-1">La spécificité</h2><p>En CSS, c’est la dernière déclaration qui sera appliquée mais tous les sélecteurs ne sont pas égaux face au <strong>calcul de spécificité</strong>.</p><h3 id="de-quelle-couleur-est-le-paragraphe-%3F" tabindex="-1">De quelle couleur est le paragraphe ?</h3><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>art<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>question<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quest<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Je suis de quelle couleur ?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue <span class="token punctuation">}</span><br><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple <span class="token punctuation">}</span><br><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token punctuation">}</span></code></pre><p>On commence doucement, dans ce code l’élément <code>p</code> sera rouge, car <strong>en CSS, la dernière déclaration aura le fin mot si les sélecteurs sont de même types.</strong></p><h3 id="corsons-un-peu-les-choses" tabindex="-1">Corsons un peu les choses</h3><p>Avec le même extrait de code HTML, quelle est la couleur du paragraphe (<code>p</code>) ?</p><pre class="language-css"><code class="language-css"><span class="token selector">article</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue <span class="token punctuation">}</span><br><span class="token selector">.question</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple <span class="token punctuation">}</span><br><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token punctuation">}</span></code></pre><p>Le paragraphe sera ici violet (<code>rebeccapurple</code>) car <strong>la sélection par <code>class</code> a plus de poids</strong> que la sélection par type.</p><p>La couleur appliquée par le sélecteur parent (<code>article</code>) est encore plus faible dans ce calcul.</p><h3 id="encore-un-peu-plus-difficile-%3F" tabindex="-1">Encore un peu plus difficile ?</h3><pre class="language-css"><code class="language-css"><span class="token selector">article</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue <span class="token punctuation">}</span><br><span class="token selector">#quest</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> orange <span class="token punctuation">}</span><br><span class="token selector">.question</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple <span class="token punctuation">}</span><br><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token punctuation">}</span></code></pre><p>Comme dans ce code CSS nous effectuons une sélection par <code>id</code> (<code>#quest</code>), la couleur du paragraphe sera <code>orange</code> car le sélecteur d’<code>id</code> a plus de poids que la sélection par <code>class</code>.</p><h3 id="un-dernier-pour-la-route" tabindex="-1">Un dernier pour la route</h3><p>La même question avec le même code HTML.</p><pre class="language-css"><code class="language-css"><span class="token selector">#art #quest</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">}</span><br><span class="token selector">.question</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">}</span><br><span class="token selector">#quest</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> orange <span class="token punctuation">}</span><br><span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token punctuation">}</span></code></pre><p>Cette fois ci le paragraphe sera bleu, le premier sélecteur contient deux <code>id</code>, il gagne.</p><p>Si vous aimez jouer, voici un <a href="https://specificity.keegan.st/">calculateur de spécificité CSS</a>.</p><h2 id="!important" tabindex="-1"><code>!important</code></h2><p>Cette déclaration est une invention maléfique. Elle permet d’outre-passer la spécificité d’une déclaration en la priorisant.</p><p><strong>C’est vrai que c’était déjà trop simple.</strong></p><pre class="language-css"><code class="language-css"><span class="token selector">.question</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple <span class="token important">!important</span><span class="token punctuation">}</span><br><span class="token selector">#quest</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> orange <span class="token punctuation">}</span></code></pre><p>Le paragraphe sera orange, <code>!important</code> surpasse l’<code>id</code> dans cet exemple.</p><div class="callout"><p>La présence de cette déclaration est l’indice d’un code de <em>mauvaise qualité</em> et sûrement difficile à maintenir.</p></div><h2 id="%C3%A9viter-les-crampes-aux-doigts-et-les-mots-de-t%C3%AAte-%3F" tabindex="-1">Éviter les crampes aux doigts et les mots de tête ?</h2><p>Dans le monde réel, <strong>on ne joue pas avec la spécificité</strong>, car le code est amené à être manipulé par différents intervenant(e)s de niveaux de connaissance différents du langage CSS.</p><p>Pour simplifier le travail de chacun :</p><ul><li>On n’utilise pas de sélection par <code>id</code>, sauf pour JavaScript;</li><li>Quelques sélections par type (la sélection d’éléments HTML) pour mettre à zéro certains éléments HTML de manière globale;</li><li>Le minimum de sélection hiérarchique et seulement sur des éléments <em>prévisibles</em>;</li><li>Des sélections par <code>class</code>;</li><li>Nous punissons les collègues qui utilisent <code>!important</code>;</li></ul><h2 id="r%C3%A9f%C3%A9rences" tabindex="-1">Références</h2><ul><li>Une vidéo en anglais qui va en profondeur sur le <a href="https://www.youtube.com/watch?v=lrivS7K1LcY;">sujet de la cascade</a>;</li></ul></div><nav><ul class="pager"><li class="pager-item pager-item-prev"><a href="/standards-web/css/02-les-selecteurs/"><span class="pager-item-label">Avant ça</span> Les sélecteurs</a></li><li class="pager-item pager-item-next"><a href="/standards-web/css/04-les-couleurs/"><span class="pager-item-label">À suivre</span> Les couleurs</a></li></ul></nav></main><script>const userPrefersDark=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,userPrefersLight=window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches,root=document.querySelector("body"),postColor=getComputedStyle(root).getPropertyValue("--post-color");function lightnessToHex(e,o){return hsluv.hsluvToHex([hsluv.hexToHsluv(e)[0],hsluv.hexToHsluv(e)[1],o])}console.log(postColor),userPrefersDark?root.style.setProperty("--post-color",lightnessToHex("#FFF3DA",20)):userPrefersLight&&root.style.setProperty("--post-color",postColor)</script></body></html>